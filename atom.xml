<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Shcoc&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.shcoc.com/"/>
  <updated>2018-09-08T13:49:04.490Z</updated>
  <id>http://www.shcoc.com/</id>
  
  <author>
    <name>Ssk</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>LCA(总结+模板)</title>
    <link href="http://www.shcoc.com/2018/09/07/LCA-%E6%80%BB%E7%BB%93-%E6%A8%A1%E6%9D%BF/"/>
    <id>http://www.shcoc.com/2018/09/07/LCA-总结-模板/</id>
    <published>2018-09-07T14:43:06.000Z</published>
    <updated>2018-09-08T13:49:04.490Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2018/09/07/LCA-总结-模板/#more"><img src="https://shcoc_1.gitee.io/gallery/my_images/photo/LCA(总结+模板).jpg" class="nofancybox"></a></p><hr><a id="more"></a><h4 id="LCA介绍"><a href="#LCA介绍" class="headerlink" title="LCA介绍"></a>LCA介绍</h4><p>LCA即最近公共祖先问题,求一棵树上两个点的最近祖先。</p><p>LCA有两种类型的算法,离线算法和在线算法</p><ul><li><p>离线算法</p><ol><li>Tarjan算法</li></ol></li><li>在线算法<ol><li>倍增算法</li><li>LCA转化RMQ</li></ol></li></ul><h4 id="LCA算法介绍"><a href="#LCA算法介绍" class="headerlink" title="LCA算法介绍"></a>LCA算法介绍</h4><h5 id="Tarjan算法"><a href="#Tarjan算法" class="headerlink" title="Tarjan算法"></a>Tarjan算法</h5><blockquote><p>Tarjan算法是离线算法,时间复杂度$O(n+q)$,主要是dfs和并查集</p></blockquote><p>　　先来个树</p><p><center><br><img src="https://shcoc_1.gitee.io/gallery/my_images/post/LCA(总结+模板)/tree.png"><br></center><br>　　这个算法主要就是dfs搜索时每次都行搜子树,然后用并查集把子节点跟父节点连到一起,因为是深搜(假设搜a-b)</p><ol><li>查询两个点在同一支上,那么在上面的点就是最近祖先,在搜到子树点时都会用并查集跟父节点压缩到一块,直到最后到的点(a),最后查询到find(b)(假设a在上)而find(b)因为路上的节点压缩等于a</li><li>查询的两个点不在同一支上,那么最近祖先就是这个子树的根节点,和1一样(假设先搜到b)它也是一直压缩到它的父节点在换右支时,find(b)就是这颗子树的根节点,最后查询到find(b)(假设a在上)而find(b)因为路上的节点压缩等于a</li><li>在说一个例子吧.<br> 假设看这个图中的一颗小树  8 4 6 15 7 然后查 15-7   15-4 7-4 ,我们来模拟一下,直接搜到最底层 15 没有子树,把15和他的父节点连到一块,标记15号点,然后找所有与15有关的查询 ,有两个15-7 15-4,然后发现4  7都没有标记,不处理回退到6 ,然后进到7,和15一样操作,在查找与7相关的查询是发现15已经标记过了,这时候find(15)就是 15-7的最近祖先,其他点也类似</li><li>代码(模板)<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">待补充</span><br></pre></td></tr></table></figure></li></ol><h5 id="倍增算法"><a href="#倍增算法" class="headerlink" title="倍增算法"></a>倍增算法</h5><blockquote><p>一种很神奇的算法,与RMQ原理相似,都是利用打表,时间复杂度$O((n+q)logn)$</p></blockquote><p>同样先来个树</p><p><center><br><img src="https://shcoc_1.gitee.io/gallery/my_images/post/LCA(总结+模板)/tree.png"><br></center><br>　　倍增,一种好的思想,可惜我还是不懂qaq ,这个原理容易懂,先跑出来距离每个点距离为1的祖先节点,这个很容易找,就是一遍dfs的事,然后利用倍增的思想,递推出所有距离该节点二的次方的所有节点,例如f[i][j]=f[f[i][j-1]][j-1] (i代表节点 j代表距离$2^j$ ,就是距离一个节点$2^n$等于距离&lt;距离这个节点$2^{n-1}$的节点&gt;的节点$2^{n-1}$的节点),这个算法就是在你打完所有距离每一个节点2的次幂距离的点的表后,去处理</p><ol><li>先把两个节点调到一个高度,把一个节点往上移动 a=f[a][j],移动多少呢,因为我们存下的都是二的倍数,所以你会想到二进制,直接把两个数高度差的二进制移动</li><li>到同一高度后,同时往上移动,一个一个移动肯定很慢啊,怎么办呢还是利用二进制啊,倍增好像就是这样,用二的次幂处理,我们可以倒着尝试移动,从直接移动</li><li>log2(n)(why? log2(n)就是移动$2^{log_2(n)}$次肯定会移动到最上面滴)如果相等,那就是在移动$2^{log_2(n)}$之前就有可能找到一个相同点,那么这个就不移动,继续找,最后这个点的父节点就是最近公共祖先</li><li>例子就没必要了,自己推吧</li><li>代码<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">待补充</span><br></pre></td></tr></table></figure></li></ol><h5 id="LCA-转化成RMQ"><a href="#LCA-转化成RMQ" class="headerlink" title="LCA 转化成RMQ"></a>LCA 转化成RMQ</h5><h6 id="RMQ-算法介绍"><a href="#RMQ-算法介绍" class="headerlink" title="RMQ 算法介绍"></a>RMQ 算法介绍</h6><blockquote><p>就是求一段数列的最大值,和最小值 预处理$nlog(n)$ 查询 $O(1)$</p></blockquote><p>　　RMQ也是利用的倍增的思想,陷于处理出从i点开始2的次幂个数的最小值,然后进行查询,如何做呢,首先求出2的0次幂(也就是它本身),然后同样递推dp[i][j]=min(dp[i][j-1],dp[i+(1&lt;&lt;j)][j-1]) (dp[i][j]是 从第i未开始 $2^j$个数的最小值),这样就可以求出来了,如何查询呢?就是把这个区间分成两块,然后合在一起,假设查询区间[l,r],那么我们只需要找两个区间 ,首先找一个k 代表从i开始k个数,这个k要尽可能的大,其实也就是$log_2(r-l+1)$这时候区间可写成[l , l+$2^k$][r-($1&lt;&lt;k$)+1,r]区间的并集,也就是这两个区间的最小值</p><p>代码<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">待补充</span><br></pre></td></tr></table></figure></p><h6 id="LCA转化RMQ方法"><a href="#LCA转化RMQ方法" class="headerlink" title="LCA转化RMQ方法"></a>LCA转化RMQ方法</h6><p>　　这个方法的原理我还是不懂,只知道两个都是倍增,中间有一定的关系</p><p>　　先看个图</p><p><center><br><img src="https://shcoc_1.gitee.io/gallery/my_images/post/LCA(总结+模板)/lac-rmq.png"><br></center><br>　　欧拉序列,很容易看出来是什么,就是遍历这棵树所走的顺序<br>　　深度序列,从名字上就知道是什么了,这里是与欧拉序列相对应点的深度<br>　　frist，第一次经过该点时的所在欧拉序列中的位置<br> <br>　　这有什么用呢？我们来查找一下试试例如找 5-4,首先我们先找frist(5)和frist(4)找到在欧拉序列中的位置,看这个区间的深度序列,你会发现这个区间最小的值所在位置就是这两个点的最近祖先,找最小的位置那当然是用新学的rmq啦</p><p>代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rd(a) scanf(<span class="meta-string">"%d"</span>,&amp;a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rld(a) scanf(<span class="meta-string">"%lld"</span>,&amp;a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rs(a) scanf(<span class="meta-string">"%s"</span>,a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> me(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pb(a)  push_back(a)</span></span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">5e4</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod =<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> ll inf =<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI=<span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt;&gt;q[maxn]; <span class="comment">//存图</span></span><br><span class="line"><span class="keyword">int</span> df[maxn*<span class="number">2</span>]; <span class="comment">//深度序列</span></span><br><span class="line"><span class="keyword">int</span> tp[maxn*<span class="number">2</span>]; <span class="comment">//拓扑序列</span></span><br><span class="line"><span class="keyword">int</span> frist[maxn]; <span class="comment">//第一次出现的位置</span></span><br><span class="line"><span class="keyword">int</span> cnt=<span class="number">0</span>; <span class="comment">//序列计数</span></span><br><span class="line"><span class="keyword">int</span> d[maxn];<span class="comment">//求距离</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> dh)</span></span>&#123; <span class="comment">// 找 df tp frist d</span></span><br><span class="line"></span><br><span class="line">    vis[u]=<span class="literal">true</span>;</span><br><span class="line">    tp[cnt]=u;</span><br><span class="line">    df[cnt]=dh;</span><br><span class="line">    frist[u]=cnt;</span><br><span class="line">    cnt++;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q[u].size();i++)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> v=q[u][i].first;</span><br><span class="line">        <span class="keyword">int</span> dis=q[u][i].second;</span><br><span class="line">        <span class="keyword">if</span>(vis[v]) <span class="keyword">continue</span>;</span><br><span class="line">        d[v]=d[u]+dis;</span><br><span class="line">        dfs(v,dh+<span class="number">1</span>);</span><br><span class="line">        tp[cnt]=u;</span><br><span class="line">        df[cnt]=dh;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dp[maxn*<span class="number">2</span>][<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_ST</span><span class="params">()</span></span>&#123;  <span class="comment">//rmq 打标</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i][<span class="number">0</span>]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;(<span class="number">1</span>&lt;&lt;i)&lt;cnt;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j+(<span class="number">1</span>&lt;&lt;i)<span class="number">-1</span>&lt;cnt;j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> a=dp[j][i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">int</span> b=dp[j+(<span class="number">1</span>&lt;&lt;(i<span class="number">-1</span>))][i<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">if</span>(df[a]&lt;=df[b])&#123;</span><br><span class="line">                dp[j][i]=a;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> dp[j][i]=b;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rmq</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;  <span class="comment">//rmq 查询</span></span><br><span class="line">    <span class="keyword">if</span>(l&gt;r) swap(l,r);</span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((<span class="number">1</span>&lt;&lt;(k+<span class="number">1</span>))&lt;=r-l+<span class="number">1</span>) k++;</span><br><span class="line">    <span class="keyword">if</span>(df[dp[l][k]]&lt;=df[dp[r-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k]]) <span class="keyword">return</span> dp[l][k];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> dp[r-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;  <span class="comment">//lca 查询</span></span><br><span class="line">    a=frist[a];</span><br><span class="line">    b=frist[b];</span><br><span class="line">    <span class="keyword">return</span> tp[rmq(a,b)];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;  <span class="comment">//初始化</span></span><br><span class="line">    me(vis,<span class="number">0</span>);</span><br><span class="line">    me(d,<span class="number">0</span>);</span><br><span class="line">    cnt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="入门题"><a href="#入门题" class="headerlink" title="入门题"></a>入门题</h4><table><thead><tr><th style="text-align:center">题目</th><th style="text-align:center">题解</th></tr></thead><tbody><tr><td style="text-align:center"><a href="http://poj.org/problem?id=1330" target="_blank" rel="noopener">POJ-1330</a></td><td style="text-align:center">暂无</td></tr><tr><td style="text-align:center"><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2586" target="_blank" rel="noopener">HDU-2586</a></td><td style="text-align:center">暂无</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2018/09/07/LCA-总结-模板/#more&quot;&gt;&lt;img src=&quot;https://shcoc_1.gitee.io/gallery/my_images/photo/LCA(总结+模板).jpg&quot; class=&quot;nofancybox&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="ACM模板" scheme="http://www.shcoc.com/tags/ACM%E6%A8%A1%E6%9D%BF/"/>
    
      <category term="ACM总结" scheme="http://www.shcoc.com/tags/ACM%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>HDU-4507</title>
    <link href="http://www.shcoc.com/2018/09/06/HDU-4507/"/>
    <id>http://www.shcoc.com/2018/09/06/HDU-4507/</id>
    <published>2018-09-06T04:39:52.000Z</published>
    <updated>2018-09-06T12:41:31.310Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2018/09/06/HDU-4507/#more"><img src="https://shcoc_1.gitee.io/gallery/my_images/photo/HDU-4507.jpg" class="nofancybox"></a></p><hr><a id="more"></a><h5 id="题目地址-点此传送"><a href="#题目地址-点此传送" class="headerlink" title="题目地址:点此传送"></a>题目地址:<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4507" target="_blank" rel="noopener">点此传送</a></h5><h5 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h5><h6 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h6><table><tr><td bgcolor="#97FFFF">单身! 　　<br>依然单身！ 　　<br>吉哥依然单身！ 　　<br>DS级码农吉哥依然单身！ 　　<br>所以，他生平最恨情人节，不管是214还是77，他都讨厌！ 　　 　　<br>吉哥观察了214和77这两个数，发现： 　　<br>$2+1+4=7$ 　　<br>$7+7=7\times 2 $　<br>$77=7\times 11$ 　　<br>最终，他发现原来这一切归根到底都是因为和7有关！所以，他现在甚至讨厌一切和7有关的数！  　　<br>什么样的数和7有关呢？  　　<br>如果一个整数符合下面3个条件之一，那么我们就说这个整数和7有关—— 　　<br>1、整数中某一位是7； 　　<br>2、整数的每一位加起来的和是7的整数倍； 　　<br>3、这个整数是7的整数倍；  　　<br>现在问题来了：吉哥想知道在一定区间内和7无关的数字的平方和。<br></td></tr></table><h6 id="input"><a href="#input" class="headerlink" title="input"></a>input</h6><table><tr><td bgcolor="#97FFFF"> 输入数据的第一行是case数T(1 &lt;= T &lt;= 50)，然后接下来的T行表示T个case;每个case在一行内包含两个正整数L, R(1 &lt;= L &lt;= R &lt;= 10^18)。 </td></tr></table><h6 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h6><table><tr><td bgcolor="#97FFFF"> 请计算[L,R]中和7无关的数字的平方和，并将结果对10^9 + 7 求模后输出。 </td></tr></table><h6 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h6><table><tr><td bgcolor="#97FFFF">3<br>1 9<br>10 11<br>17 17<br></td></tr></table><h6 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h6><table><tr><td bgcolor="#97FFFF">236<br>221<br>0</td></tr></table><h6 id="HINT"><a href="#HINT" class="headerlink" title="HINT"></a>HINT</h6><table><tr><td bgcolor="#97FFFF"> 2013腾讯编程马拉松初赛第一场（3月21日）<br></td></tr></table><h5 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h5><p>   看题(略)</p><h5 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h5><p>  数位dp,以前只做过记录个数的没做过记录和,第一眼我把记录的个数改成平方和,一直t也不知道咋回事……后来搜的题解,还是利用求个数,就是多记录了两个数<br>$c^2=(a+b)^2=a^2+2\times b+b^2$<br>假设找到第i个位置时,搜索数的大小为 $i\times pow(i,pos)$,这个位置之后的数字为num1,num2,num3 …. numN,则 i位以后所有满足数的平方和为<br>$=((i\times pow(i,pos)+num1)^2+(i\times pow(i,pos)+num2)^2 +$<br>$(i\times pow(i,pos)+num3)^2+\dots +(i\times pow(i,pos)+numN)^2)$<br>$ =N\times (i\times pow(i,pos)^2)^2+2\times i\times pow(i,pos)\times (num1+num2+num3$<br>$+\dots+numN)+(num1^2+num2^2+num3^2+\dots +numN^2)$</p><p>所以我们只需维护满足的个数 n ,num的和,$num^2$就行<br>开个结构体dp[pos][num][sum].c 代表次数 dp[pos][num][sum].sum 代表num和 dp[pos][num][sum].sqsum 平方和  (其他 pos 第几位,num数字,sum每一位位和)<br>dp很巧妙,具体看代码</p><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(ll &amp;x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> f=<span class="number">1</span>;x=<span class="number">0</span>;<span class="keyword">char</span> s=getchar();</span><br><span class="line">    <span class="keyword">while</span>(s&lt;<span class="string">'0'</span>||s&gt;<span class="string">'9'</span>)&#123;<span class="keyword">if</span>(s==<span class="string">'-'</span>)f=<span class="number">-1</span>;s=getchar();&#125;</span><br><span class="line">    <span class="keyword">while</span>(s&gt;=<span class="string">'0'</span>&amp;&amp;s&lt;=<span class="string">'9'</span>)&#123;x=x*<span class="number">10</span>+s-<span class="string">'0'</span>;s=getchar();&#125;</span><br><span class="line">    x*=f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ss</span>&#123;</span></span><br><span class="line"></span><br><span class="line">    ll c;</span><br><span class="line">    ll sum;</span><br><span class="line">    ll sqsum;</span><br><span class="line"></span><br><span class="line">&#125;dp[<span class="number">20</span>][<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> d[<span class="number">20</span>];</span><br><span class="line"><span class="function">ss <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> num,<span class="keyword">int</span> sum,<span class="keyword">int</span> limit)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!limit&amp;&amp;dp[pos][num][sum].c!=<span class="number">-1</span>) <span class="keyword">return</span> dp[pos][num][sum];</span><br><span class="line">    <span class="keyword">int</span> end=limit?d[pos]:<span class="number">9</span>;</span><br><span class="line">    ll p=<span class="built_in">pow</span>(<span class="number">10L</span>L,pos);</span><br><span class="line">    ss ans;</span><br><span class="line">    ans.c=ans.sum=ans.sqsum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=end;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">7</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(pos==<span class="number">0</span>) &#123;<span class="keyword">if</span>((sum+i)%<span class="number">7</span>&amp;&amp;(i+num)%<span class="number">7</span>) &#123; ans.c++;ans.sum+=i;ans.sqsum+=i*i;&#125;&#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">//p pow(10,pos) 变为该位置数的大小</span></span><br><span class="line">          ss k=dfs(pos<span class="number">-1</span>,(num+i*p)%<span class="number">7</span>,(sum+i)%<span class="number">7</span>,limit&amp;(i==end));</span><br><span class="line">          ans.c=(ans.c+k.c)%mod; <span class="comment">//次数 等于他后面的所有次数和</span></span><br><span class="line">          ll q1=(i*p)%mod;  <span class="comment">//上面推导的 i*pow(10,pos)</span></span><br><span class="line">          ll q2=(q1*q1)%mod; <span class="comment">// (i*pow(10,pos))^2</span></span><br><span class="line">          ans.sum=(ans.sum+k.sum+k.c*q1)%mod; </span><br><span class="line">           <span class="comment">//每个数都有增加个 i*pow(10,pos)所以一共增加 k.c*q1 再加上原来的</span></span><br><span class="line">          ans.sqsum=(ans.sqsum+(k.c*q2%mod)+((k.sum*q1%mod)*<span class="number">2</span>)%mod+k.sqsum)%mod;</span><br><span class="line">           <span class="comment">//利用上面推导 </span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!limit)&#123;</span><br><span class="line">        dp[pos][num][sum].c=ans.c;</span><br><span class="line">        dp[pos][num][sum].sum=ans.sum;</span><br><span class="line">        dp[pos][num][sum].sqsum=ans.sqsum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x)&#123;d[cnt++]=x%<span class="number">10</span>;x/=<span class="number">10</span>;&#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(cnt<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>).sqsum%mod;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;<span class="number">10</span>;k++)</span><br><span class="line">               dp[i][j][k].c=dp[i][j][k].sum=dp[i][j][k].sqsum=<span class="number">-1</span>;</span><br><span class="line">    ll a,b;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;a,&amp;b);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,(solve(b)-solve(a<span class="number">-1</span>)+mod)%mod);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2018/09/06/HDU-4507/#more&quot;&gt;&lt;img src=&quot;https://shcoc_1.gitee.io/gallery/my_images/photo/HDU-4507.jpg&quot; class=&quot;nofancybox&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="acm" scheme="http://www.shcoc.com/tags/acm/"/>
    
  </entry>
  
  <entry>
    <title>BZOJ-1799</title>
    <link href="http://www.shcoc.com/2018/09/05/BZOJ-1799/"/>
    <id>http://www.shcoc.com/2018/09/05/BZOJ-1799/</id>
    <published>2018-09-05T08:52:32.000Z</published>
    <updated>2018-09-05T09:23:15.018Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2018/09/05/BZOJ-1799/#more"><img src="https://shcoc_1.gitee.io/gallery/my_images/photo/BZOJ-1799.jpg" class="nofancybox"></a></p><hr><a id="more"></a><h5 id="题目地址-点此传送"><a href="#题目地址-点此传送" class="headerlink" title="题目地址:点此传送"></a>题目地址:<a href="https://www.lydsy.com/JudgeOnline/problem.php?id=1799" target="_blank" rel="noopener">点此传送</a></h5><h5 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h5><h6 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h6><p><table><tr><td bgcolor="#97FFFF">给出a,b，求出[a,b]中各位数字之和能整除原数的数的个数。</td></tr></table></p><h6 id="input"><a href="#input" class="headerlink" title="input"></a>input</h6><p><table><tr><td bgcolor="#97FFFF">无</td></tr></table></p><h6 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h6><p><table><tr><td bgcolor="#97FFFF">无</td></tr></table></p><h6 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h6><p><table><tr><td bgcolor="#97FFFF">10 19<br></td></tr></table></p><h6 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h6><p><table><tr><td bgcolor="#97FFFF">3</td></tr></table></p><h6 id="HINT"><a href="#HINT" class="headerlink" title="HINT"></a>HINT</h6><p><table><tr><td bgcolor="#97FFFF"> 【约束条件】$1\leq a\leq b\leq10^{18}$<br></td></tr></table></p><h5 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h5><p>  看题(略)</p><h5 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h5><p>  数位dp,我感觉很暴力,但是自己不会….<br>dp[pos][sum][val],其中pos代表第几位,sum是剩下位数需要凑够的数,val是现在模mod后剩下的值,为什么说暴力呢? 这道题就是暴力枚举所以可能出现的位数和,也就是mod,每次换一个mod就得清一次dp(没办法dp没办法再开mod大了),所以我感觉还是有点暴力的……</p><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e4</span> + <span class="number">10</span>;</span><br><span class="line">ll dp[<span class="number">20</span>][<span class="number">200</span>][<span class="number">200</span>];</span><br><span class="line">ll d[<span class="number">20</span>];</span><br><span class="line"><span class="function">ll <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pos,<span class="keyword">int</span> sum,<span class="keyword">int</span> val,<span class="keyword">int</span> mod,<span class="keyword">int</span> limit)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(sum-pos*<span class="number">9</span><span class="number">-9</span>&gt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(pos&lt;<span class="number">0</span>) <span class="keyword">return</span> sum==<span class="number">0</span>&amp;&amp;val==<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(sum&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(!limit&amp;&amp;dp[pos][sum][val]!=<span class="number">-1</span>) <span class="keyword">return</span> dp[pos][sum][val];</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    ll end=limit?d[pos]:<span class="number">9</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=end;i++)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(sum-i&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            ans+=dfs(pos<span class="number">-1</span>,sum-i,(val*<span class="number">10</span>+i)%mod,mod,limit&amp;(i==end));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!limit)</span><br><span class="line">        dp[pos][sum][val]=ans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    ll cnt=<span class="number">0</span>;</span><br><span class="line">    ll ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x)&#123;</span><br><span class="line"></span><br><span class="line">        d[cnt++]=x%<span class="number">10</span>;</span><br><span class="line">        x/=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=cnt*<span class="number">9</span>;i++)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">-1</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        ans+=dfs(cnt<span class="number">-1</span>,i,<span class="number">0</span>,i,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    ll a,b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,solve(b)-solve(a<span class="number">-1</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2018/09/05/BZOJ-1799/#more&quot;&gt;&lt;img src=&quot;https://shcoc_1.gitee.io/gallery/my_images/photo/BZOJ-1799.jpg&quot; class=&quot;nofancybox&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="ACM 简单dp" scheme="http://www.shcoc.com/categories/ACM-%E7%AE%80%E5%8D%95dp/"/>
    
    
      <category term="数位dp" scheme="http://www.shcoc.com/tags/%E6%95%B0%E4%BD%8Ddp/"/>
    
  </entry>
  
  <entry>
    <title>HDU-3709</title>
    <link href="http://www.shcoc.com/2018/08/31/HDU-3709/"/>
    <id>http://www.shcoc.com/2018/08/31/HDU-3709/</id>
    <published>2018-08-31T12:48:00.000Z</published>
    <updated>2018-09-05T11:47:54.885Z</updated>
    
    <content type="html"><![CDATA[<p><a href="/2018/08/31/HDU-3709/#more"><img src="https://shcoc_1.gitee.io/gallery/my_images/background/9.jpg" class="nofancybox"></a></p><hr><a id="more"></a><h5 id="题目地址-点此传送"><a href="#题目地址-点此传送" class="headerlink" title="题目地址:点此传送"></a>题目地址:<a href="http://acm.hdu.edu.cn/showproblem.php?pid=3709" target="_blank" rel="noopener">点此传送</a></h5><h5 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h5><h6 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h6><table><tr><td bgcolor="#97FFFF">A balanced number is a non-negative integer that can be balanced if a pivot is placed at some digit. More specifically, imagine each digit as a box with weight indicated by the digit. When a pivot is placed at some digit of the number, the distance from a digit to the pivot is the offset between it and the pivot. Then the torques of left part and right part can be calculated. It is balanced if they are the same. A balanced number must be balanced with the pivot at some of its digits. For example, 4139 is a balanced number with pivot fixed at 3. The torqueses are $4\times2 + 1\times1 = 9\  and \ 9\times1 = 9$, for left part and right part, respectively. It’s your job<br>to calculate the number of balanced numbers in a given range [x, y].<br></td></tr></table><h6 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h6><table><tr><td bgcolor="#97FFFF">The input contains multiple test cases. The first line is the total number of cases T (0 &lt; T ≤ 30). For each case, there are two integers separated by a space in a line, x and y. (0 ≤ x ≤ y ≤ 1018).<br></td></tr></table><h6 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h6><table><tr><td bgcolor="#97FFFF">For each case, print the number of balanced numbers in the range [x, y] in a line.</td></tr></table><h6 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h6><table><tr><td bgcolor="#97FFFF">2<br>0 9<br>7604 24324<br></td></tr></table><h6 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h6><table><tr><td bgcolor="#97FFFF">10<br>897<br></td></tr></table><h5 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h5><p>   很简单,就是求[a,b]之间满足条件的数有多少个,条件举个例子来说(平衡数),例如4139 这个当中心是3时左边为$1\times1+4\times2=9$右边为$1\times9$,左边等于右边这算是一个平衡数,问你有多少这样的平衡数</p><h5 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h5><p>  数位dp，dp[len][pos][sum] len代表第几位数字,pos代表以pos为中心,sum代表平衡数两边的的差，这道题可以遍历中心pos来进行数位dp,当len&lt;0且sum=0时代表是一个平衡数,sum可以用一种方法表示,到pos的距离乘以的d[i](第i位)</p><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rd(a) scanf(<span class="meta-string">"%d"</span>,&amp;a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rld(a) scanf(<span class="meta-string">"%lld"</span>,&amp;a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rs(a) scanf(<span class="meta-string">"%s"</span>,a)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> me(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pb(a)  push_back(a)</span></span><br><span class="line"><span class="keyword">const</span> ll maxn=<span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> ll mod =<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> ll inf =<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI=<span class="built_in">acos</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">int</span> d[<span class="number">20</span>];</span><br><span class="line">ll dp[<span class="number">20</span>][<span class="number">20</span>][<span class="number">2000</span>];</span><br><span class="line"><span class="function">ll <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> len,<span class="keyword">int</span> pos,<span class="keyword">int</span> limit,<span class="keyword">int</span> sum)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(len&lt;<span class="number">0</span>) <span class="keyword">return</span> sum==<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(sum&lt;<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(!limit&amp;&amp;dp[len][pos][sum]!=<span class="number">-1</span>) <span class="keyword">return</span> dp[len][pos][sum];</span><br><span class="line"><span class="keyword">int</span> end=limit?d[len]:<span class="number">9</span>;</span><br><span class="line">ll ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=end;i++)&#123;</span><br><span class="line">ans+=dfs(len<span class="number">-1</span>,pos,limit&amp;(i==end),sum+i*(len-pos));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!limit) dp[len][pos][sum]=ans;</span><br><span class="line"><span class="keyword">return</span> ans; </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">solve</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(x)&#123;</span><br><span class="line">d[len++]=x%<span class="number">10</span>;</span><br><span class="line">x/=<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">ll ans=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">ans+=dfs(len<span class="number">-1</span>,i,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> ans-len+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">me(dp,<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    rd(t);</span><br><span class="line"><span class="keyword">while</span>(t--)&#123;</span><br><span class="line">  ll a,b;</span><br><span class="line">  rld(a),rld(b);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,solve(b)-solve(a<span class="number">-1</span>));</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;/2018/08/31/HDU-3709/#more&quot;&gt;&lt;img src=&quot;https://shcoc_1.gitee.io/gallery/my_images/background/9.jpg&quot; class=&quot;nofancybox&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>hexo 博客搭建与next 6.0主题配置</title>
    <link href="http://www.shcoc.com/2018/08/14/hexo-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%8Enext-6-0%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/"/>
    <id>http://www.shcoc.com/2018/08/14/hexo-博客搭建与next-6-0主题配置/</id>
    <published>2018-08-13T16:12:00.000Z</published>
    <updated>2018-09-05T08:22:18.865Z</updated>
    
    <content type="html"><![CDATA[<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script><div id="security">  <div class="input-container">  <input type="password" class="form-control" id="pass" placeholder="请输入密码！！" />    <label for="pass">请输入密码！！</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">U2FsdGVkX1+69EwoypaxMZq8QBNEWJ8FP+ZaxCmUgBKkUn9VxUPz4yHp9h5ARXMDFYlXwT4lLSLX9HC2rp/X2Oq/L/YlcRReS/k1NH6rla0KeM/t/Cmkv6k+LMl83NM+NGkbhhWqhC4UDG9XDgJeLdRKRxOfKFXNQR0YttfhjlQUR66Y7btL0ouRwUbKwdYJxZ0NEMBoX4BBrQfgepJC0t43PhGiVU3gx/CwzZAAvVLxnXw9RrJpELdA2LvFJRQLA7Pl/hMeZlSZdCNwWDwCN74dyXm8an+7jP47sOvb3uHoZDQprWJtosl7Dgj872pMHDfQHZxrYFkVdt7VmLEn4HvUEDCLOCtydsmcQog77GaR3OXgICgxl1CDOG1d0RiOVR41bRWRqW9FqKtxI8KvvmMOvV48wNwPsJKZsM2uNKTRfPeRno3mK5XD6ZNJTJEoEO2BMSn0Oh+pThd63A/9Px/YfhQS9z1zO9N20EzZDaKZlpedXqSqldgcp/6ADMTBajNPwpCMMu+aB9XKqlzNLueD4FJDIkPoMOF2+QfsOE2TbBRF/yTH3aJao+SW0od3mWEKspTFGxSO+buZSPGDg3BIXv3WVfQP2iIvTPIqL1wBKJIT3cdS9/IClsmNIUd5XuuFL7qJw5gL/Bsj++USLbZvvuKVVTaqf0nHygL/vKNf9ecnTjls4mRRRxapPuRNBXSFF19HjHqLr8fKfvv7U2vwMejz+93xmFxPwjhX1hwTuOiN758Q/rLtBw2B3+NAwGfVt9tRsIYydegMEW6Phg==</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      私人文章，请输入密码
    
    </summary>
    
      <category term="hexo" scheme="http://www.shcoc.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://www.shcoc.com/tags/hexo/"/>
    
  </entry>
  
</feed>
